{"version":3,"sources":["components/StoryForm/styles.js","context/auth/authReducer.js","api/index.js","context/auth/authContext.js","context/auth/useAuth.js","context/stories/storyReducer.js","context/stories/storyContext.js","context/stories/useStory.js","components/StoryForm/StoryForm.js","components/Story/styles.js","components/Story/Story.js","components/StoryList/StoryList.js","components/Home/styles.js","components/Home/Home.js","styles.js","resources/img/InstaBesties.png","components/AppBar/style.js","components/AppBar/AppBar.js","components/AuthForm/styles.js","components/AuthForm/AuthForm.js","components/Posts/Post/styles.js","context/posts/postReducer.js","context/posts/PostContext.js","context/posts/usePost.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","App.js","index.js"],"names":["styles","formTitle","display","justifyContent","alignItems","formCard","width","position","margin","authState","isAuthenticated","loading","user","error","authReducer","state","action","type","payload","console","log","api","axios","create","baseURL","updateStory","id","updatedStory","put","headers","localStorage","getItem","deleteStory","delete","likeStory","AuthContext","createContext","AuthProvider","children","useReducer","dispatch","signIn","formData","navigate","post","response","data","setItem","token","message","signUp","savedUser","tokenValidator","get","username","value","signOut","removeItem","resetError","Provider","useAuth","useContext","storyState","storyReducer","map","story","_id","filter","StoryContext","StoryProvider","getStories","createStory","newStory","stories","useStory","Title","Typography","StoryForm","selectedId","setSelectedId","Form","useForm","form","useEffect","reset","resetFields","style","title","level","labelCol","span","wrapperCol","layout","size","onFinish","formValues","Item","name","label","rules","required","TextArea","allowClear","autoSize","minRows","maxRows","multiple","onDone","e","setFieldsValue","image","base64","offset","block","htmlType","icon","SendOutlined","onClick","CloseOutlined","danger","to","card","boxShadow","actions","Meta","Card","Link","Paragraph","Text","Story","useState","expand","setExpand","cardActions","placement","color","HeartTwoTone","twoToneColor","likes","length","EditOutlined","DeleteTwoTone","cover","src","userId","slice","ellipsis","rows","expandable","symbol","onExpand","onEllipsis","caption","href","tags","split","tag","moment","postDate","fromNow","StoryList","gutter","xl","lg","xxl","textAlign","sider","background","content","Sider","Layout","Content","Home","minHeight","header","fontSize","height","zIndex","footer","marginRight","avatar","backgroundColor","userInfo","right","top","login","homeLink","Header","AppBar","useNavigate","location","useLocation","preview","Logo","alt","charAt","toUpperCase","container","AuthForm","isLogin","setIsLogin","email","password","confirmPassword","userData","setUserData","changeHandler","elementName","target","oldState","prefix","UserOutlined","placeholder","onChange","MailOutlined","Password","LockOutlined","prevIsLogin","makeStyles","media","paddingTop","backgroundBlendMode","border","fullHeightCard","flexDirection","borderRadius","overlay","left","overlay2","grid","details","padding","postState","PostContext","usePost","Post","setCurrentId","classes","useStyles","likePost","deletePost","Likes","find","like","className","CardMedia","selectedFile","variant","createdAt","creator","Button","gutterBottom","CardContent","component","CardActions","disabled","result","theme","mainContainer","smMargin","spacing","actionDiv","Posts","posts","getPosts","Grid","item","xs","sm","CircularProgress","Footer","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f88e7d5.chunk.js","sourcesContent":["const styles = {\n  formTitle: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  formCard: {\n    width: 390,\n    position: \"fixed\",\n    margin: \"30px 10px\",\n  },\n};\nexport default styles;\n","export const authState ={\n    isAuthenticated : false,\n    loading: true,\n    user:{}, // we are expecting a user object that will contain user id, user name, or anything that is sent from the backend.\n    error: false\n}\n\nconst authReducer = ( state, action) =>{\n    \n    // (type : signin, payload: data coming , and i will updated state according to the action type and the data and then i will return the state back)\n\n    const {type, payload} = action;\n\n    switch (type) {\n\n        case \"AUTH_SIGNIN\":{\n            console.log(\"payload in signin\",payload.user)\n            return{\n                ...state,\n                isAuthenticated: true,\n                loading : false,\n                user: payload.user\n            }\n        }\n        case \"AUTH_SIGNUP\":{\n            console.log(\"payload in reducer\", payload)\n            return{\n                ...state,\n                isAuthenticated: true,\n                loading : false,\n                user: payload       \n            }\n        }\n        case \"SIGNIN_ERR\":{ \n            return{\n                ...state,\n                error: payload\n\n            }\n        }\n        case \"AUTH_VALID\":{\n            return{\n                ...state,\n                isAuthenticated: true,\n                loading : false,\n                user: payload\n            }\n        }\n        case \"SIGN_OUT\":{\n            return{\n                ...state,\n                isAuthenticated : false,\n                loading: true,\n                user:{}, // we are expecting a user object that will contain user id, user name, or anything that is sent from the backend.\n                error: false\n\n            }\n        }\n        case \"CLR_ERR\":{\n            return{\n                ...state,\n                error: false\n            }\n        }\n\n        default:{\n            return state\n        }\n    }\n\n}\nexport default authReducer","import axios from 'axios';\n\n// init axios instance\n\n/**\n * Create new instance of axios with a custom config\n */\n\nconst api = axios.create({ baseURL: \"http://localhost:8002\" });\n\n\n/* \n    * check if there is a token provided (localStorage ) before sending the request\n    * if yes then use that token with every request\n*/\n\n/* api.interceptors.request.use(\n\n     (req) => {\n         if (localStorage.getItem(\"auth\")) {\n             req.headers.Authorization = `Bearer ${\n                 localStorage.getItem(\"auth\")\n            }`;\n        }\n    } \n    ); */\n    \n    /**\n     * Auth requests\n     */\n    /**\n     * \n     * @param {formValues} user \n     * @returns {Promise<JSON>}\n     */\n    export const signup = (user) => api.post(\"/user/signup\", user);\n    \n    /**\n     * \n     \n     * @returns {Promise<JSON>}\n     */\n export const validateToken = () => {\n    return api.get(\"/user/tokenValidation\" ,{\n        headers:{\n            \"Authorization\" : `Bearer ${\n                localStorage.getItem(\"auth\")}`\n        }\n    } )\n};\n\n/**\n * \n * @param {formValues} user \n * @returns {Promise<JSON>}\n */\nexport const login = (user) => {\n    \n    return api.post(\"/user/signin\", user)};\n\n\n/**\n * Post requests\n */\n/**\n * \n * @returns {Promise<JSON>}\n */\nexport const fetchPosts = () => api.get(\"/posts/getposts\");\n\n/**\n * \n * @param {formValues} newPost \n * @returns {Promise<JSON>}\n */\nexport const createPost = (newPost) => api.post(\"/posts/addpost\", newPost);\n\n/**\n * \n * @param {ObjectId} id \n * @param {formValues} updatedPost \n * @returns {Promise<JSON>}\n */\nexport const updatePost = (id, updatedPost) => api.put(`/posts/editpost/${id}`, updatedPost);\n\n/**\n * \n * @param {ObjectId} id \n * @returns {Promise<JSON>}\n */\nexport const likePost = (id) => api.put(`/posts/likepost/${id}`, {\n    headers:{\n        \"Authorization\" : `Bearer ${\n            localStorage.getItem(\"auth\")}`\n    }\n});\n\n/**\n * \n * @param {ObjectId} id \n * @returns {Promise<JSON>}\n */\nexport const deletePost = (id) => api.delete(`/posts/removepost/${id}`);\n\n\nexport const fetchStories = () => api.get(\"/story/getstories\");\nexport const createStory = (newStory) => api.post(\"/story/createstory\", newStory, {\n    headers:{\n        \"Authorization\" : `Bearer ${\n            localStorage.getItem(\"auth\")}`\n    }\n});\nexport const updateStory = (id, updatedStory) =>\n  api.put(`/updatestory/${id}`, updatedStory, {\n    headers:{\n        \"Authorization\" : `Bearer ${\n            localStorage.getItem(\"auth\")}`\n    }\n});\nexport const deleteStory = (id) => api.delete(`/story/deletestory/${id}`, {\n    headers:{\n        \"Authorization\" : `Bearer ${\n            localStorage.getItem(\"auth\")}`\n    }\n});\nexport const likeStory = (id) => api.put(`/story/likestory/${id}`,{}, {\n    headers:{\n        \"Authorization\" : `Bearer ${\n            localStorage.getItem(\"auth\")}`\n    }\n});\n\n\n\n","import {createContext, useReducer} from \"react\";\nimport authReducer, { authState } from \"./authReducer\";\nimport * as api from \"../../api/index\"\n\n\nexport const AuthContext = createContext(authState);\n\nexport const AuthProvider = ({children}) =>{\n\n    const [state, dispatch] = useReducer(authReducer, authState);\n\n    const signIn = async (formData, navigate) => {\n\n        try{\n            const response = await api.login(formData)\n            console.log(\"response in signin\", response)\n   \n                dispatch({type :\"AUTH_SIGNIN\", payload: response.data})\n                localStorage.setItem(\"auth\",response.data.token )\n                navigate(\"/\")\n\n            }\n            catch(err){\n            dispatch({type:\"SIGNIN_ERR\", payload:err.message})\n        }\n    }\n\n    const signUp = async (formData, navigate) => {\n\n        try{\n            const response = await api.signup(formData)\n            dispatch({type :\"AUTH_SIGNUP\", payload: response.data.savedUser}) \n            navigate(\"/\")\n\n        }\n        catch(err){\n            dispatch({type:\"SIGNIN_ERR\", payload:err.message})\n        }\n    }\n\n    const tokenValidator = async () =>{\n        \n        try{\n            const response = await api.validateToken()\n            dispatch({type :\"AUTH_VALID\", payload: {username: response.data.username, id: response.data.id}})\n        }\n        catch(err){\n            console.log(err)\n        } \n\n    }\n\n    const signOut = () => {\n        dispatch({type :\"SIGN_OUT\"})\n        if(localStorage.getItem(\"auth\")) localStorage.removeItem(\"auth\")\n        \n    }\n\n    const resetError = () => {\n        dispatch({type :\"CLR_ERR\"})\n        \n    }\n\n\n    const value ={\n        signIn,\n        signUp,\n        signOut,\n        isAuthenticated: state.isAuthenticated,\n        error: state.error,\n        user:state.user,\n        tokenValidator,\n        resetError\n        \n        \n    }\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n","import { useContext } from \"react\"\nimport { AuthContext } from \"./authContext\"\n\nconst useAuth = () =>{\n    const context = useContext(AuthContext)\n    return context\n}\n\nexport default useAuth;","\nexport const storyState =[]\n\n  const storyReducer = (state, action) => {\n    switch (action.type) {\n      case \"FETCH_ALL_STORIES\":\n        return action.payload;\n      case \"CREATE_STORY\":\n        return [...state, action.payload];\n      case \"UPDATE_STORY\":\n        return state.map((story) =>\n          story._id === action.payload._id ? action.payload : story\n        );\n      case \"DELETE_STORY\":\n        return state.filter((story) => story._id !== action.payload);\n      default:\n        return state;\n    }\n  };\n  export default storyReducer;","import {createContext, useReducer} from \"react\";\nimport * as api from \"../../api/index\"\nimport storyReducer, { storyState } from \"./storyReducer\";\n\n\nexport const StoryContext = createContext(storyState);\n\nexport const StoryProvider = ({children}) =>{\n\n    const [state, dispatch] = useReducer(storyReducer, storyState);\n\n\n    const getStories = async () => {\n        console.log(\"get stories called\")\n      try {\n        const { data } = await api.fetchStories();\n    \n        dispatch({ type: \"FETCH_ALL_STORIES\", payload: data });\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n    \n    const createStory = async (story) =>   {\n      try {\n        const { data } = await api.createStory(story);\n        dispatch({ type: \"CREATE_STORY\", payload: data });\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    \n    const updateStory = async(id, story) => {\n      try {\n        const { data } = await api.updateStory(id, story);\n    \n        dispatch({ type: \"UPDATE_STORY\", payload: data });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    const deleteStory = async (id) => {\n      try {\n        await api.deleteStory(id);\n    \n        dispatch({ type: \"DELETE_STORY\", payload: id });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const likeStory =async (id) => {\n      try {\n        const { data } = await api.likeStory(id);\n    \n        dispatch({ type: \"UPDATE_STORY\", payload: data });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const value ={\n        getStories,\n        createStory,\n        updateStory,\n        deleteStory,\n        likeStory, \n        stories: state\n    }\n\n    return <StoryContext.Provider value={value}>{children}</StoryContext.Provider>\n}\n","import { useContext } from \"react\"\nimport { StoryContext } from \"./storyContext\"\n\nconst useStory = () =>{\n    const context = useContext(StoryContext)\n    return context\n}\n\nexport default useStory;","import React, { useEffect } from \"react\";\nimport { Card, Form, Input, Typography, Button } from \"antd\";\nimport styles from \"./styles\";\nimport FileBase64 from \"react-file-base64\";\nimport { CloseOutlined, SendOutlined } from \"@ant-design/icons\";\n\n\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../context/auth/useAuth\";\nimport useStory from \"../../context/stories/useStory\";\n\nconst { Title } = Typography;\n\nconst StoryForm = ({ selectedId, setSelectedId }) => {\n  const [form] = Form.useForm();\n\n  const {createStory} = useStory()\n\n  const story = null; // context is required\n  \n  const {user, isAuthenticated} = useAuth()\n  const username = user?.username;\n\n  useEffect(() => {\n    if (story) form.setFieldsValue(story);\n  }, [form, story]);\n\n  const onSubmit = (formValues) => {\n    createStory(formValues)\n/*     selectedId\n      ? dispatch(\n          updateStory(selectedId, {\n            ...formValues,\n            username,\n          })\n        )\n      : dispatch(createStory({ ...formValues, username })); */\n    reset();\n  };\n\n  const reset = () => {\n    form.resetFields();\n    setSelectedId(null);\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <Card style={styles.formCard}>\n        <Title level={4}>\n          <span style={styles.formTitle}> Welcome to InstaBesties !</span>\n          <br />\n          Please <Link to=\"/authform\">login</Link> or{\" \"}\n          <Link to=\"/authform\">register</Link> for sharing instant moments or\n          ideas.\n        </Title>\n      </Card>\n    );\n  }\n\n  return (\n    <Card\n      style={styles.formCard}\n      title={\n        <Title level={4} style={styles.formTitle}>\n          {selectedId ? \"Editing\" : \"Share\"} a Story\n        </Title>\n      }\n    >\n      <Form\n        form={form}\n        labelCol={{ span: 6 }}\n        wrapperCol={{ span: 16 }}\n        layout=\"horizontal\"\n        size=\"middle\"\n        onFinish={onSubmit}\n      >\n        <Form.Item name=\"caption\" label=\"Caption\" rules={[{ required: true }]}>\n          <Input.TextArea allowClear autoSize={{ minRows: 2, maxRows: 6 }} />\n        </Form.Item>\n        <Form.Item name=\"tags\" label=\"Tags\">\n          <Input allowClear />\n        </Form.Item>\n        <Form.Item name=\"image\" label=\"Story Pic\" rules={[{ required: true }]}>\n          <FileBase64\n            type=\"file\"\n            multiple={false}\n            onDone={(e) =>\n              form.setFieldsValue({\n                image: e.base64,\n              })\n            }\n          />\n        </Form.Item>\n        <Form.Item\n          wrapperCol={{\n            span: 16,\n            offset: 6,\n          }}\n        >\n          <Button\n            type=\"primary\"\n            block\n            htmlType=\"submit\"\n            icon={<SendOutlined />}\n          >\n            Share\n          </Button>\n        </Form.Item>\n        {!selectedId ? null : (\n          <Form.Item\n            wrapperCol={{\n              span: 16,\n              offset: 6,\n            }}\n          >\n            <Button\n              type=\"primary\"\n              block\n              htmlType=\"button\"\n              onClick={reset}\n              icon={<CloseOutlined />}\n              danger\n            >\n              Discard\n            </Button>\n          </Form.Item>\n        )}\n      </Form>\n    </Card>\n  );\n};\n\nexport default StoryForm;\n","const styles = {\n    card:{\n        boxShadow: 'rgba(0, 0, 0, 0.24) 0px 3px 8px'\n    },\n    actions:{\n        display:'flex', \n        justifyContent:\"center\", \n        alignItems:'center'\n    }\n}\n\nexport default styles ","import React, { useState } from \"react\";\nimport { Card, Tooltip, Typography, Image } from \"antd\";\nimport { EditOutlined, DeleteTwoTone, HeartTwoTone } from \"@ant-design/icons\";\nimport styles from \"./styles\";\nimport moment from \"moment\";\nimport useAuth from \"../../context/auth/useAuth\";\nimport useStory from \"../../context/stories/useStory\";\n//import { useDispatch } from \"react-redux\";\n//import { deleteStory, likeStory } from \"../../actions/stories\";\n\nconst { Meta } = Card;\nconst { Link, Paragraph, Text } = Typography;\nconst Story = ({ story, setSelectedId }) => {\n  const [expand, setExpand] = useState(true);\n // const dispatch = useDispatch();\n/*   const user = JSON.parse(localStorage.getItem(\"profile\"));\n */\n  const {user} = useAuth()\n  const {deleteStory, likeStory} = useStory()\n\n\n  const cardActions = [\n    <div style={styles.actions}>\n      <Tooltip\n        placement=\"top\"\n        title=\"Like \"\n        color=\"magenta\"\n        onClick={() => likeStory(story._id)}\n      >\n        <HeartTwoTone twoToneColor=\"magenta\" />\n        &nbsp; {story.likes.length}\n      </Tooltip>\n    </div>,\n    <Tooltip placement=\"top\" title=\"Edit\">\n      <EditOutlined\n        //   key=\"edit\"\n        onClick={() => {\n          setSelectedId(story._id);\n        }}\n      />\n    </Tooltip>,\n    <Tooltip placement=\"top\" title=\"Delete\" color=\"red\">\n      <DeleteTwoTone\n        // key=\"delete\"\n        twoToneColor=\"red\"\n        onClick={() => deleteStory(story._id)}\n      />\n    </Tooltip>,\n  ];\n\n  return (\n    <Card\n      style={styles.card}\n      cover={<Image src={story.image} />}\n      actions={\n        user?.id === story.userId\n          ? cardActions\n          : user.id\n          ? cardActions.slice(0, 1)\n          : null\n      }\n    >\n      <Meta title={story.username} />\n\n      <Paragraph\n        style={{ margin: 0 }}\n        ellipsis={{\n          rows: 2,\n          expandable: true,\n          symbol: \"more\",\n          onExpand: () => {\n            setExpand(true);\n          },\n          onEllipsis: () => {\n            setExpand(false);\n          },\n        }}\n      >\n        {story.caption}\n      </Paragraph>\n      {expand ? (\n        <Link href=\"#\">{story.tags.split(\" \").map((tag) => `#${tag} `)}</Link>\n      ) : null}\n      <br />\n      <Text type=\"secondary\">{moment(story.postDate).fromNow()}</Text>\n    </Card>\n  );\n};\n\nexport default Story;\n","import React, { useEffect } from \"react\";\nimport { Col, Row, Spin } from \"antd\";\nimport Story from \"../Story/Story.js\";\nimport useAuth from \"../../context/auth/useAuth.js\";\nimport useStory from \"../../context/stories/useStory.js\";\n\n\n const StoryList = ({ setSelectedId }) => {\n\n\n  const {isAuthenticated} = useAuth()\n  const {stories, getStories} = useStory()\n\n  useEffect(()=>{\n    if(isAuthenticated) getStories()\n  }, [])\n  return !isAuthenticated? (\n    <div\n      style={{\n        textAlign: \"center\",\n      }}\n    >\n\n      {!isAuthenticated?<Spin size=\"large\" />: null}\n    </div>\n  ) : (\n    <Row gutter={[48, 32]}>\n      {stories.map((story) => (\n        <Col key={story._id} xl={12} lg={24} xxl={8}>\n          <Story story={story} setSelectedId={setSelectedId} />\n        </Col>\n      ))}\n    </Row>\n  );\n};\n\nexport default StoryList;\n","const styles = {\n    sider:{\n        background: '#f0f2f5'\n    },\n    content:{\n        margin:'2rem'\n    }\n}\n\nexport default styles","import React, { useEffect, useState } from \"react\";\nimport { Layout } from \"antd\";\nimport StoryForm from \"../StoryForm/StoryForm.js\";\nimport StoryList from \"../StoryList/StoryList.js\";\nimport styles from \"./styles\";\nimport { StoryProvider } from \"../../context/stories/storyContext.js\";\n\n\nconst { Sider, Content } = Layout;\n\nconst Home = () => {\n  const [selectedId, setSelectedId] = useState(null);\n  \n  return (\n    <Layout>\n      <StoryProvider>\n      <Sider\n        width={400}\n        style={styles.sider}\n        // breakpoint=\"md\"\n        // collapsedWidth=\"0\"\n      >\n\n          <StoryForm selectedId={selectedId} setSelectedId={setSelectedId} />\n      </Sider>\n      <Content style={styles.content}>\n          <StoryList setSelectedId={setSelectedId} />\n     \n      </Content>\n        </StoryProvider>\n    </Layout>\n  );\n};\n\nexport default Home;\n","const styles = {\n  layout: {\n    minHeight: \"100vh\",\n  },\n  header: {\n    color: \"#fff\",\n    textAlign: \"center\",\n    fontSize: \"3rem\",\n    background:\n      \"linear-gradient(90deg, rgba(246,83,39,1) 0%, rgba(147,27,252,.95) 50%, rgba(246,83,39,1) 100%)\",\n    height: \"5rem\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: \"1\",\n  },\n  title: {\n    color: \"white\",\n    margin: \"0\",\n  },\n  footer: {\n    color: \"white\",\n    textAlign: \"center\",\n    background:\n      \"linear-gradient(90deg, rgba(246,83,39,1) 0%, rgba(147,27,252,1) 50%, rgba(246,83,39,1) 100%)\",\n  },\n};\nexport default styles;\n","export default __webpack_public_path__ + \"static/media/InstaBesties.0f4ac1a0.png\";","const styles = {\n  header: {\n    color: \"#fff\",\n    textAlign: \"center\",\n    fontSize: \"3rem\",\n    background:\n      \"linear-gradient(90deg, rgba(246,83,39,1) 0%, rgba(147,27,252,.95) 50%, rgba(246,83,39,1) 100%)\",\n    height: \"5rem\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: \"1\",\n  },\n  title: {\n    color: \"white\",\n    margin: \"0\",\n    marginRight: \"25px\",\n  },\n  avatar: {\n    color: \"#f56a00\",\n    backgroundColor: \"#fde3cf\",\n    marginRight: \"6px\",\n  },\n  userInfo: {\n    position: \"absolute\",\n    right: \"25px\",\n    top: \"20px\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  login: {\n    position: \"absolute\",\n    right: \"25px\",\n    top: \"25px\",\n  },\n  homeLink: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n};\nexport default styles;\n","import React, { useState, useEffect } from \"react\";\nimport { Layout, Image, Typography, Button, Avatar } from \"antd\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport Logo from \"../../resources/img/InstaBesties.png\";\nimport styles from \"./style\";\n\nimport decode from \"jwt-decode\";\nimport useAuth from \"../../context/auth/useAuth\";\n\nconst { Header } = Layout;\nconst { Title } = Typography;\nconst AppBar = () => {\n  // const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\n  \n  const navigate = useNavigate();\n  const location = useLocation();\n  const {user, isAuthenticated, tokenValidator, signOut} = useAuth()\n\n  useEffect(() => {\n /*    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n    \n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\n    */\n\n     if(localStorage.getItem(\"auth\")) tokenValidator()\n  }, [location]);\n\n  const logout = () => {\n    signOut()\n    navigate(\"/authform\");\n    //setUser(null);\n  };\n  return (\n    <Header style={styles.header}>\n  \n      <Link to=\"/\">\n        <div style={styles.homeLink}>\n          <Image preview={false} width={45} src={Logo} />\n          &nbsp;\n          <Title style={styles.title}>InstaBesties</Title>\n        </div>\n      </Link>\n      <Link to={\"/posts\"}>Posts</Link>\n      {!isAuthenticated ? (\n        <Link to=\"/authform\">\n          <Button style={styles.login} htmlType=\"button\">\n            Log In\n          </Button>\n        </Link>\n      ) : (\n        <div style={styles.userInfo}>\n          <Avatar style={styles.avatar} alt=\"username\" size=\"large\">\n            {/* {user.result.username.charAt(0).toUpperCase()} */}\n              {user.username.charAt(0).toUpperCase()}  \n          </Avatar>\n          <Title style={styles.title} level={4}>\n           {/*  {user.result.username} */}\n             {user.username} \n          </Title>\n          <Button htmlType=\"button\" onClick={logout}>\n            Log Out\n          </Button>\n        </div>\n      )}\n    </Header>\n  );\n};\n\nexport default AppBar;\n","const styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"start\",\n    margin: \"6rem\",\n  },\n  card: { width: \"400px\" },\n};\n\nexport default styles;\n","import React, { useEffect, useState } from \"react\";\nimport { Form, Input, Button, Card, Layout, Typography } from \"antd\";\nimport { UserOutlined, LockOutlined, MailOutlined } from \"@ant-design/icons\";\nimport styles from \"./styles\";\nimport {useNavigate } from \"react-router-dom\";\nimport useAuth from \"../../context/auth/useAuth\";\n\n\nconst { Title } = Typography;\nconst AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n\n  const [userData, setUserData] = useState({\n    email:\"\",\n    password:\"\",\n    confirmPassword:\"\",\n    username:\"\"\n                }) \n\n  const {signIn, signUp, error, resetError, isAuthenticated} = useAuth()\n\n  useEffect(()=>{\n    if(isAuthenticated) navigate(\"/\")\n  })\n \n\n  const switchMode = () => {\n    setIsLogin((prevIsLogin) => !prevIsLogin);\n  };\n\n  const onSubmit = (e) => {\n    \n\n    if(isLogin)\n    signIn(userData, navigate)\n    else signUp(userData, navigate)\n  } \n\n   const changeHandler = (e) =>{\n    const elementName = e.target.name;\n    const value = e.target.value;\n    resetError()\n\n    setUserData(oldState=>{return {...oldState, [elementName]: value }})\n  } \n\n\n  return (\n    <Layout style={styles.container}>\n      <Card\n        style={styles.card}\n        title={\n          <Title level={4} style={{ textAlign: \"center\" }}>\n            {isLogin ? \"Login to\" : \"Join\"} Instaverse\n          </Title>\n        }\n      >\n        <Form\n          name=\"authform\"\n          form={form}\n          size=\"large\"\n          wrapperCol={{ span: 20, offset: 2 }}\n          \n          onFinish={onSubmit}\n          > \n          \n          {isLogin || (\n            <Form.Item\n              name=\"username\"\n              rules={[\n                {\n                  required: true,\n                  message: \"Please enter your Username!\",\n                },\n              ]}\n            >\n              <Input prefix={<UserOutlined />} placeholder=\"Username\" onChange={changeHandler} name=\"username\" />\n            </Form.Item>\n          )}\n          <Form.Item\n            name=\"email\"\n            rules={[\n              {\n                required: true,\n                type: \"email\",\n                message: \"Please enter a valid email address\",\n              },\n            ]}\n          >\n            <Input prefix={<MailOutlined />} placeholder=\"E-mail address\" onChange={changeHandler} name=\"email\"/>\n          </Form.Item>\n          <Form.Item\n            name=\"password\"\n            rules={[\n              {\n                required: true,\n                message: \"Please enter your Password!\",\n              },\n            ]}\n          >\n            <Input.Password\n              prefix={<LockOutlined />}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={changeHandler} \n              name=\"password\"\n            />\n          </Form.Item>\n          {isLogin || (\n            <Form.Item\n              name=\"confirmPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: \"Please repeat your Password!\",\n                },\n              ]}\n            >\n              <Input.Password\n                prefix={<LockOutlined />}\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n                onChange={changeHandler} \n                name=\"confirmPassword\"\n              />\n            </Form.Item>\n          )}\n\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              {isLogin ? \"Login\" : \"Join\"}\n            </Button>\n            \n            <span style={{ margin: \"0 10px 0 20px\" }}>Or</span>\n            <Button type=\"link\" onClick={switchMode}>\n              {isLogin ? \"register now!\" : \"have an account?\"}\n            </Button>\n          </Form.Item>\n        </Form>\n        {error? <p>{error}</p>:null}\n      </Card>\n    </Layout>\n  );\n};\n\nexport default AuthForm;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles({\n   media: {\n      height: 0,\n      paddingTop: '56.25%',\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      backgroundBlendMode: 'darken',\n   },\n   border: {\n      border: 'solid',\n   },\n   fullHeightCard: {\n      height: '100%',\n   },\n   card: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      borderRadius: '15px',\n      height: '100%',\n      position: 'relative',\n   },\n   overlay: {\n      position: 'absolute',\n      top: '20px',\n      left: '20px',\n      color: 'white',\n   },\n   overlay2: {\n      position: 'absolute',\n      top: '20px',\n      right: '20px',\n      color: 'white',\n   },\n   grid: {\n      display: 'flex',\n   },\n   details: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      margin: '20px',\n   },\n   title: {\n      padding: '0 16px',\n   },\n   cardActions: {\n      padding: '0 16px 8px 16px',\n      display: 'flex',\n      justifyContent: 'space-between',\n   },\n});","\nexport const postState =[]\n\nconst postReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_ALL_POSTS\":\n      return action.payload;\n    case \"CREATE_POST\":\n      return [...state, action.payload];\n    case \"UPDATE_POST\":\n      return state.map((story) =>\n        story._id === action.payload._id ? action.payload : story\n      );\n    case \"DELETE_POST\":\n      return state.filter((story) => story._id !== action.payload);\n    default:\n      return state;\n  }\n};\nexport default postReducer;","import {createContext, useReducer} from \"react\";\nimport * as api from \"../../api/index\"\nimport postReducer, { postState } from \"./postReducer\";\n\n\nexport const PostContext = createContext(postState);\n\nexport const PostProvider = ({children}) =>{\n\n    const [state, dispatch] = useReducer(postReducer, postState);\n\n    console.log(\"state in context\", state)\n\n\n    const getPosts = async () => {\n        console.log(\"get Posts called\")\n      try {\n        const { data } = await api.fetchPosts();\n    \n        dispatch({ type: \"FETCH_ALL_POSTS\", payload: data });\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n    \n    const createPost = async (post) =>   {\n      try {\n        const { data } = await api.createPost(post);\n        dispatch({ type: \"CREATE_POST\", payload: data });\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    \n    const updatePost = async(id, post) => {\n      try {\n        const { data } = await api.updatePost(id, post);\n    \n        dispatch({ type: \"UPDATE_POST\", payload: data });\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    const deletePost = async (id) => {\n      try {\n        await api.deletePost(id);\n    \n        dispatch({ type: \"DELETE_POST\", payload: id });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const likePost =async (id) => {\n      try {\n        const { data } = await api.likePost(id);\n    \n        dispatch({ type: \"UPDATE_POST\", payload: data });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    const value ={\n        getPosts,\n        createPost,\n        updatePost,\n        deletePost,\n        likePost, \n        state\n    }\n\n    return <PostContext.Provider value={value}>{children}</PostContext.Provider>\n}\n","import { useContext } from \"react\"\nimport { PostContext } from \"./PostContext\"\n\nconst usePost = () =>{\n    const context = useContext(PostContext)\n    return context\n}\n\nexport default usePost;","import React from 'react'\nimport useStyles from './styles'\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from '@material-ui/core'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\nimport moment from 'moment'\nimport usePost from '../../../context/posts/usePost'\nimport useAuth from '../../../context/auth/useAuth'\n\n\nconst Post = ({ post, setCurrentId }) => {\n   const classes = useStyles()\n   const {user} = useAuth()\n   \n   const {likePost, deletePost} = usePost()\n\n   const Likes = () => {\n      if (post.likes.length > 0) {\n         return post.likes.find((like) => like === user?.id)\n            ? (\n               <><ThumbUpAltIcon fontSize=\"small\" />&nbsp;{post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${post.likes.length} like${post.likes.length > 1 ? 's' : ''}`}</>\n            ) : (\n               <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{post.likes.length} {post.likes.length === 1 ? 'Like' : 'Likes'}</>\n            );\n      }\n\n      return <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;Like</>;\n   };\n\n\n   return (\n      <Card className={classes.card} >\n         <CardMedia className={classes.media} image={post.selectedFile} title={post.title}> </CardMedia>\n         <div className={classes.overlay}>\n            <Typography variant=\"h6\">{post.name}</Typography>\n            <Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\n         </div>\n         {(user?.id === post?.creator) && (\n            <div className={classes.overlay2}>\n               <Button\n                  style={{ color: 'white' }}\n                  size=\"small\"\n                  onClick={() => { setCurrentId(post._id) }}>\n                  <MoreHorizIcon fontSize=\"medium\" />\n               </Button>\n            </div>\n\n         )}\n         <div className={classes.details}>\n            <Typography variant=\"body2\" color=\"textSecondary\">{post.tags.map((tag) => `#${tag} `)}</Typography>\n\n         </div>\n         <Typography className={classes.title} variant=\"h5\" gutterBottom>{post.title}</Typography>\n         <CardContent>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{post.message}</Typography>\n         </CardContent>\n         <CardActions className={classes.cardActions}>\n            <Button size=\"small\" color=\"primary\" disabled={!user?.result} onClick={() => likePost(post._id)}>\n               <Likes />\n            </Button>\n            {(user?.result?._id === post?.creator) && (\n               <Button size=\"small\" color=\"primary\" onClick={() => deletePost(post._id)}>\n                  <DeleteIcon fontSize=\"small\" />\n                  Delete\n               </Button>\n            )}\n         </CardActions>\n      </Card>\n   );\n}\nexport default Post;","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n   mainContainer: {\n      display: 'flex',\n      alignItems: 'center',\n   },\n   smMargin: {\n      margin: theme.spacing(1),\n   },\n   actionDiv: {\n      textAlign: 'center',\n   },\n}));","import React, { useEffect } from 'react'\nimport Post from './Post/Post'\nimport useStyles from './styles'\n\nimport { Grid, CircularProgress } from '@material-ui/core'\nimport usePost from '../../context/posts/usePost'\nimport useAuth from '../../context/auth/useAuth'\n\n\nconst Posts = ({ setCurrentId }) => {\n\n   const {isAuthenticated} = useAuth()\n   const {posts, getPosts} = usePost();\n   \n   console.log(posts, \"in post\")\n\n   useEffect(()=>{\n      if(isAuthenticated) getPosts()\n   })\n   const classes = useStyles()\n   \n   \n   return (\n      !posts.length ? <CircularProgress /> :\n         <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\n            {posts.map(post => (\n               <Grid key={post._id} item xs={12} sm={6}>\n                  <Post post={post} setCurrentId={setCurrentId} />\n               </Grid>\n            ))\n\n            }\n         </Grid>\n   );\n}\n\nexport default Posts;","import React from \"react\";\nimport { Layout } from \"antd\";\nimport Home from \"./components/Home/Home.js\";\nimport styles from \"./styles\";\nimport AppBar from \"./components/AppBar/AppBar.js\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport AuthForm from \"./components/AuthForm/AuthForm.js\";\nimport { AuthProvider } from \"./context/auth/authContext.js\";\nimport Posts from \"./components/Posts/Posts.js\";\n\nconst { Footer } = Layout;\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <BrowserRouter>\n        <Layout style={styles.layout}>\n          <AppBar />\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/authform\" element={<AuthForm />} />\n            <Route path=\"/posts\" element={<Posts />} />\n\n          </Routes>\n          <Footer style={styles.footer}>2022 InstaBesties</Footer>\n        </Layout>\n      </BrowserRouter>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"antd/dist/antd.css\";\n\n\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}